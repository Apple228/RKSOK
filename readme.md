<h1>Рабоче-Крестьянский Стандарт Отправки Команд (РКСОК) 1.0</h1>
Наш суверенный аналог, во всём превосходящий отживший своё протокол HTTP, 
получил название РКСОК, Рабоче-Крестьянский Стандарт Отправки Команд 
(читается как эР Ка СОК). Стандарт отличается удобством работы и изначальной неизменно
высокой планкой безопасности.

<p>В светлых чердаках инновационных лабораторий Сколково лучшими умами отечественной компухтерной науки был разработан наш ответ буржуйскому HTTP.</p>

<p>Наш&nbsp;суверенный аналог, во всём&nbsp;превосходящий&nbsp;отживший своё&nbsp;протокол HTTP, получил название РКСОК, Рабоче-Крестьянский Стандарт Отправки Команд (читается как эР Ка СОК). Стандарт отличается удобством работы и изначальной&nbsp;неизменно высокой планкой&nbsp;безопасности.</p>

<p>РКСОК версии 1.0 состоит из четырёх команд.</p>

<ul>
	<li><code>ОТДОВАЙ</code> — для возврата данных</li>
	<li><code>УДОЛИ</code> — для удаления данных</li>
	<li><code>ЗОПИШИ</code> — для создания и обновления данных</li>
	<li><code>АМОЖНА?</code> — для получения&nbsp;разрешения обработки команды от специальных органов</li>
</ul>

<p>Первые три команды предназначены для работы с клиентами, которые могут запрашивать возврат данных, их удаление и сохранение, а четвертая команда предназначена для общения сервера РКСОК с сервером специальных&nbsp;органов проверки всех запросов.</p>

<p>В целях контроля враждебной пропаганды, экстремизма и мазохизма каждый запрос, приходящий на сервер РКСОК, должен проверяться органами проверки, для чего каждый запрос перед обработкой отправляется сначала на сервер проверки, и, если тот возвращает ответ <code>МОЖНА</code>, значит, сервер обрабатывает запрос. Если от сервера проверки пришёл любой другой ответ — клиенту возвращается этот ответ, а запрос дальше не обрабатывается.</p>

<p>Клиенты напрямую команду <code>АМОЖНА?</code> не отправляют, эту команду отправляет только сервер при проверке возможности обработки клиентских запросов.</p>

<h2>Как запустить сервер</h2>

<p> <code> pip install -r pip_requirements.txt</code> </p>

<code> python3 server.py SERVER PORT </code>
<p>где SERVER это ip сервера, а PORT это порт</p>


<h2>Описание протокола РКСОК 1.0</h2>

<h3>ОТДОВАЙ</h3>

<pre><code class="language-no-highlight hljs">ОТДОВАЙ имя РКСОК/1.0
</code></pre>

<p>Команда проверяет возможность обработки запроса через сервер проверки&nbsp;и,&nbsp;если можно, то возвращает телефон человека по имени "имя". Например, чтобы получить телефон Ивана Хмурого, надо отправить запрос:</p>

<pre><code class="language-no-highlight hljs">ОТДОВАЙ Иван Хмурый РКСОК/1.0</code></pre>

<p>Если имя можно обработать и телефон по этому имени найден, то сервер возвращает:</p>

<pre><code class="language-no-highlight hljs">НОРМАЛДЫКС РКСОК/1.0
89012345678</code></pre>

<p>Если имя можно обработать и телефон Ивана Хмурого не найден (ещё не сохранен или удалён), то сервер отвечает:</p>

<pre><code class="language-no-highlight hljs">НИНАШОЛ РКСОК/1.0</code></pre>

<p>Если имя нельзя обработать и сервер проверки вернул ответ "Уже едем", то сервер должен вернуть ответ:</p>

<pre><code class="language-no-highlight hljs">НИЛЬЗЯ РКСОК/1.0
Уже едем</code></pre>

<h3>Обработка корявых запросов</h3>

<p>На корявые запросы, не соответствующие стандарту РКСОК 1.0, надо отвечать:</p>

<pre><code class="language-no-highlight hljs">НИПОНЯЛ РКСОК/1.0</code></pre>

<h3>ЗОПИШИ</h3>

<pre><code class="language-no-highlight hljs">ЗОПИШИ имя РКСОК/1.0
значение</code></pre>

<p>Сохраняет для имени <code>имя</code>&nbsp;значение <code>значение</code>. Например, чтобы сохранить телефон Ивана Хмурого 89012345678, нужно отправить запрос:</p>

<pre><code class="language-no-highlight hljs">ЗОПИШИ Иван Хмурый РКСОК/1.0
89012345678</code></pre>

<p>Сервер проверяет запрос на сервере проверки, и если всё&nbsp;ок, то записывает у себя в файл с названием <code>Иван Хмурый</code>&nbsp;(или каким-то другим названием) значение телефона, и отвечает клиенту:</p>

<pre><code class="language-no-highlight hljs">НОРМАЛДЫКС РКСОК/1.0</code></pre>

<p>Если запрос нельзя обработать (сервер проверки не разрешил), ответ аналогичен запросу <code>ОТДОВАЙ</code> для такого же случая.</p>

<h3>УДОЛИ</h3>

<pre><code class="language-no-highlight hljs">УДОЛИ имя РКСОК/1.0</code></pre>

<p>Удаляет запись для имени <code>имя</code>. Например, чтобы удалить телефон Ивана Хмурого, нужно отправить запрос:</p>

<pre><code class="language-no-highlight hljs">УДОЛИ Иван Хмурый РКСОК/1.0</code></pre>

<p>Сервер проверяет запрос на сервере проверки, и если все ок, то удаляет у себя файл с названием "Иван Хмурый" и возвращает:</p>

<pre><code class="language-no-highlight hljs">НОРМАЛДЫКС РКСОК/1.0</code></pre>

<p>Если запрос нельзя обработать (сервер проверки не разрешил), ответ аналогичен запросу <code>ОТДОВАЙ</code> для такого же случая.</p>

<p>Если запрос можно обработать, но такого файла с таким именем нет на сервере, отвечаем:</p>

<pre><code class="language-no-highlight hljs">НИНАШОЛ РКСОК/1.0</code></pre>

<h3>АМОЖНА?</h3>

<pre><code class="language-no-highlight hljs">АМОЖНА? РКСОК/1.0
проверяемый запрос</code></pre>

<p>Нам не нужно реализовывать у себя обработку этой команды (нам её&nbsp;не будут слать), но нам нужно реализовать запрос к серверу проверки с командой <code>АМОЖНА?</code>.</p>

<p>Сервер проверки: <code>vragi-vezde.to.digital</code>, порт — <code>51624</code>&nbsp;(почему бы и нет, порт может быть и таким большим).</p>

<p>Допустим, к нам пришел запрос на заведение телефона человека Иван Хмурый:</p>

<pre><code class="language-no-highlight hljs">ЗОПИШИ Иван Хмурый РКСОК/1.0
89012345678</code></pre>

<p>Тогда нам нужно отправить на сервер проверки такой запрос:</p>

<pre><code class="language-no-highlight hljs">АМОЖНА? РКСОК/1.0
ЗОПИШИ Иван Хмурый РКСОК/1.0
89012345678</code></pre>

<p>Ответ, разрешающий обработку запроса:</p>

<code class="language-no-highlight hljs">МОЖНА РКСОК/1.0</code>

<p>Ответ от сервера проверки, запрещающий обработку запроса (в таком же виде он должен вернуться клиенту):</p>

<pre><code class="language-no-highlight hljs">НИЛЬЗЯ РКСОК/1.0
Что ещё за Иван Хмурый такой? Он тебе зачем?</code></pre>
